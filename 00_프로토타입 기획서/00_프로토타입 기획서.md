# 🎮 전투 시스템 설계 문서

## 1️⃣ 공통 전투 시스템

### ⚔️ 전투 구성요소

| 시스템       | 설명                                    |
| --------- | ------------------------------------- |
| 기본 공격(콤보) | 캐릭터마다 연속 타수와 넉백 수치가 다른 콤보 시스템         |
| 회피        | 2초 쿨타임. 전 구간 무적. 저스트 회피 없음            |
| 회피 공격     | 회피 성공 후 1초 이내 공격 시 강한 단타기. 무적 및 강한 넉백 |
| 패시브 스킬    | 캐릭터 고유의 지속 효과                         |
| 액티브 스킬    | 쿨타임 기반 고유 기술                          |
| 협공 스킬     | 팀 전체 협공 게이지로 발동. 연출 포함 필살기            |
| 캐릭터 전환    | 0.5초 쿨타임. 사망자 전환 불가. 버프 유지            |
| 넉백 시스템    | 모든 공격에 넉백 수치, 대상은 넉백 저항 비교            |
| 피격 캔슬     | 넉백 > 저항이면 현재 행동 캔슬 + 넉백 적용            |

---

### 💥 넉백 및 피격 시스템

- 모든 공격: `knockbackPower` 포함
- 대상: `knockbackResistance` 포함
- 판정: `knockbackPower > resistance` → 행동 중단 + 넉백
---

### 🔁 캐릭터 전환 시스템

- 파티 구성: 3명
- 전환 쿨타임: 0.5초
- 전환 제한: 사망 캐릭터 불가
- 상태 유지: 버프/디버프 유지됨
- 연출: 잔상 이펙트 출력 후 전환

---

### 🌀 협공 시스템

- 팀 공통 Synchro Gauge 100% 시 발동
- 한 캐릭터 시전 → 파티 전체 등장 → 시간 정지 + 연출 공격
- 연출 종료 후 피해 및 상태이상 적용 가능

---

## 2️⃣ 플레이어 캐릭터 구성

### 🧍‍♂️ 레오 (Leo) – 강철의 수호자

| 분류 | 이름 | 설명 |
|------|------|------|
| 패시브 | 강철의 신념 | 넉백 저항 +50%, HP 30% 이하 시 피해 감소 |
| 기본공격 | 철권 연격 | 3타 콤보. 마지막 타격에 강한 넉백 |
| 회피 공격 | 파쇄 강타 | 전진 후 강타. 넉백 강함, 무적 유지 |
| 액티브 | 지면 강타 | 주변 넉백 범위기 (쿨타임 10초) |
| 협공 | 파멸의 결전 | 전체 적 띄우고 파티 전원 강타 연출 |

---

### 🧍‍♀️ 아리나 (Arina) – 그림자의 칼날

| 분류 | 이름 | 설명 |
|------|------|------|
| 패시브 | 그림자 밟기 | 등 뒤 공격 시 치명타 확률 50% 증가 |
| 기본공격 | 섬광 연속베기 | 빠른 5타 콤보 |
| 회피 공격 | 섬멸 찌르기 | 찌르기 공격. 치명타 확정, 무적 |
| 액티브 | 그림자 질주 | 돌진 + 뒤로 회피 (쿨 8초) |
| 협공 | 그림자 연무 | 분신과 함께 적 타격. 다단 히트 연출 |

---

### 🧙‍♀️ 벨로아 (Veloa) – 붉은 운명의 마도사

| 분류 | 이름 | 설명 |
|------|------|------|
| 패시브 | 마력 폭주 | 마나가 가득 차면 스킬 대미지 +25% |
| 기본공격 | 화염탄 연사 | 3연사. 마지막 폭발 |
| 회피 공격 | 마력 역류 | 반격 화염 폭발. 무적 연장 |
| 액티브 | 불꽃의 낙인 | 도트 + 폭발 데미지 (쿨 12초) |
| 협공 | 운명의 심판 | 마법진 → 마법 연속 폭격 연출 |

---

## 3️⃣ 적 캐릭터 구성

### 👹 고블린 워리어 – 근거리

- 단순 추적 후 베기 공격
- 넉백 저항 낮음
- 대응: 넉백 유도 or 히트스턴

---

### 🏹 고블린 아처 – 원거리

- 일정 거리 유지하며 화살 연사
- 근접 시 후퇴 AI 작동
- 대응: 빠른 접근 or 차단기 사용

---

### 🧙‍♂️ 고블린 샤먼 – 서포트

- 힐 및 버프 제공
- 근접 시 도주 행동
- 넉백 및 상태이상에 매우 취약

---

## ✅ 개발 체크리스트

### 🔧 시스템 구현

- [ ] 기본 공격(콤보) 시스템
- [ ] 회피 기능 (2초 쿨타임, 무적)
- [ ] 회피 공격 판정 및 효과
- [ ] 액티브 스킬 시스템 (쿨타임 관리 포함)
- [ ] 패시브 스킬 적용 구조
- [ ] 넉백 시스템 (넉백 수치 비교 → 행동 캔슬)
- [ ] 피격 상태 및 스태거 상태머신 연계
- [ ] 캐릭터 전환 기능 (잔상 포함)
- [ ] 협공 시스템 (게이지, 연출, 전체 공격)
- [ ] Synchro Gauge UI 표시

### 🎭 캐릭터/적 설정

- [ ] 레오: 스킬/상태 설정
- [ ] 아리나: 스킬/상태 설정
- [ ] 벨로아: 스킬/상태 설정
- [ ] 고블린 워리어 AI
- [ ] 고블린 아처 AI
- [ ] 고블린 샤먼 AI

### 🎨 연출/사운드

- [ ] 회피 공격 임팩트 효과
- [ ] 협공 시 시간 정지 및 연출 구현
- [ ] 캐릭터 전환 시 잔상 이펙트
- [ ] 피격 넉백 이펙트

---
